flowchart TD
    Start([Начало]) --> InitVars[Инициализация переменных:<br/>n - размер массива<br/>i = 1]
    InitVars --> Init[Инициализация:<br/>comparisons = 0<br/>swaps = 0]
    Init --> OuterLoop{i < n}
    OuterLoop -->|Да| SaveKey[key = arr[i]<br/>j = i - 1]
    
    SaveKey --> InnerLoop{j >= 0}
    InnerLoop -->|Да| Compare[comparisons++<br/>Сравнить arr[j] > key]
    Compare -->|Да| Shift[arr[j+1] = arr[j]<br/>swaps++<br/>j--]
    Compare -->|Нет| Insert
    Shift --> InnerLoop
    
    InnerLoop -->|Нет| Insert[arr[j+1] = key]
    Insert --> IncrI[i++]
    IncrI --> OuterLoop
    
    OuterLoop -->|Нет| End([Конец])